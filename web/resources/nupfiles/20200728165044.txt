입력폼에 파일업로드가 있어야한다.

파일을 읽어서 서버로 전송해야한다.

enctype : 두개를 합쳐서 인코딩하고 인코딩한 것을 클라이언트한테 전송
	브라우저안에 코덱이 동영상을 제공.
	코덱에서 디코딩처리한다.
	enc는 인코딩타입이다.
	인코딩타입을 선언해야 파일전송가능하다.
	
	파일이름과 함께 파일내용도 가야한다.
	인코딩속성에 의해서 자동으로 파일아웃풋 파일인풋 일어남.

enctype="multipart/form-data"
파일은 반드시 multipart 방식으로 압축
form안에 데이터를 보낼 것이다 라는 의미
이렇게 보낼때는 전송방식은 무조건 post로 

서블릿도 멀티파트방식으로 받아야한다.
서블릿으로 보낼때는 name

스크립트릿 <%  %>

 readonly 보여지기는 하지만 수정은 못함

기본적으로 1개의 파일만 선택 <input type="file" name="ofile">

파일 2개이상 
추가버튼을 누를때마다 <input type="file" name="ofile"> 가 이름이 바뀌면서 추가되게할 ㄱ서인가
멀티플속성을 써서 할 것인가.

같은 테이블안의 버튼들은 이벤트가 전달이 된다. 목록보고 싶은데 등록이나 취소가 될 수 있다.
특히 서브밋은 전송하는 버튼 

그냥 버튼이나 인풋의버튼은 항상 이벤트전달해서 문제이다.
서브밋에게 이벤트 전달을 막아야한다. 
 > return false 써주면 된다.
<input type="button" value="목록" onclick="javascript:history.go(-1); return false;">


f12로 개발자도구 볼수 있다.
자바스크립트에러는 여기에만 표시된다.

서블릿맵핑은 어플리케이션전체에 유일한 이름이여야한다.
톰캣을 리스타트한다 = 컴파일한다

자바 ee가 제공하는 ServletFileUpload

리퀘스트에 있는 값이 멀티플파트인가 알려주는 것
ServletFileUpload.isMultipartContent(request)

파일 저장할 폴더 정하기 (전부 contentdirectory밑에) 
프로젝트안에 폴더를 지정하는 방법이 있다. 코드수정이 필요없다.
C드라이브어쩌구저쩌구 하면 서버에도 같은 폴더만들어서 저장해줘야한다.

수업자료에 
D:\WEB\5_WEB_SERVER\2_JSP\JSP_Servlet_기타기능\파일업_다운로드기능\라이브러리
commons쓸거면 둘다 업로드해야하고.
cos를 쓸거면 이거 하나만 쓰면 됨.

지금은 3개의 자르 전부 복붙해옴. 자바 빌드패스에서 등록하는방법도 있는데 
그냥 web-inf 밑에 lib 폴더에 넣어버려도 된다. 이게 더 확실한 방법.


덮어쓰기가 아닌 이름뒤에 (1)붙여서 파일생성해주는 클래스


이제 디비에 저장할 정보는 mrequest에서 꺼내야한다. 그냥 request로 꺼내면 오류난다

많은 회사에서는 
업로드한 날짜와 시간(초단위까지)을 그냥 파일명으로 해버림.

파일이름바꾸기
새파일을 만들고 거기에 내용복사해넣고 원래파일을 삭제하는방법
자바 ee 가 제공하는 클래스가 있지만 오류있어서 위의 방법으로 진행한다. 


파일다운로드는 DB까지 갈 필요없다.
프로젝트폴더에서 바로 이름만 꺼내주면 된다.


// (근데 왜 서블릿에서는 트라이캐치 안하지 ?) doGet에서 throws해서


웹서버에서는 utf-8이지만 다운받는 사람이 윈도우 쓰면 여기서 다운받으면 언어셋이 다르다.
다운받는 os의 문자셋으로 다운받게 해야한다.
파일명이 깨질 수 있으므로 

따옴표안에서 따옴표를 출력할 때 \" 쓰면 된다

수정이여도 enctype은 계속 써줘야한다. 파일 바꿀 수도 있으니까 


input 타입은 보여질 값을 value="<%=   %>"에 쓰고
textarea 태그는 <textarea>여기에 </textarea>  <%=  %> 쓰면 된다
히든으로 noticeno, 파일 전송

체크박스의 value는 전송값
















































